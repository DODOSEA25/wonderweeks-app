<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ì•„ê¸° ì„±ì¥ ìº˜ë¦°ë”</title>

  <!-- AdSense ìŠ¤í¬ë¦½íŠ¸ í•œ ë²ˆë§Œ -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2903492342387009" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="style.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.7/index.global.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.7/index.global.min.js"></script>

  <style>
    /* ëª¨ë‹¬ */
    #eventModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.55);z-index:1001;justify-content:center;align-items:center}
    #eventModal .box{background:#fff;border-radius:8px;padding:1.5rem;width:320px;max-width:90%}
    #eventModal .close{position:absolute;right:.75rem;top:.5rem;cursor:pointer;font-size:1.2rem}

    /* ê´‘ê³  íŒì—… */
    #ad-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5);z-index:1000;justify-content:center;align-items:center}
    #ad-popup{background:#fff;border-radius:8px;padding:1rem;position:relative}
    #ad-popup-close{position:absolute;top:.4rem;right:.5rem;cursor:pointer;font-size:1.2rem}
  </style>
</head>
<body>
  <!-- ìƒë‹¨ ë°°ë„ˆ -->
  <header class="ad-banner">
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2903492342387009" data-ad-slot="1171436236" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
  </header>

  <div class="container result">
    <h1>ì•„ê¸° ì„±ì¥ ìº˜ë¦°ë”</h1>
    <div class="input-group">
      <input id="newBirth" placeholder="YYYY-MM-DD" readonly/>
      <button id="recalc">ğŸ”„ ì¬ê³„ì‚°</button>
      <button id="home">ğŸ  í™ˆ</button>
    </div>
    <p id="ageInfo"></p>
    <p id="statusInfo" class="status"></p>
    <p id="tipInfo" class="tip"></p>
    <div id="calendars"></div>
    <p id="nextEvent"></p>
  </div>

  <!-- ìƒì„¸ ëª¨ë‹¬ -->
  <div id="eventModal"><div class="box">
    <span class="close" id="closeModal">&times;</span>
    <h2 id="mTitle"></h2>
    <p id="mStatus"></p>
    <p id="mTip"></p>
    <p id="mExample"></p>
  </div></div>

  <!-- ê´‘ê³  íŒì—…(300x250 ê³ ì •) -->
  <div id="ad-overlay">
    <div id="ad-popup">
      <span id="ad-popup-close">&times;</span>
      <ins class="adsbygoogle" style="display:block;width:300px;height:250px" data-ad-client="ca-pub-2903492342387009" data-ad-slot="5775002015"></ins>
    </div>
  </div>

  <!-- í•˜ë‹¨ ë°°ë„ˆ -->
  <footer class="ad-banner">
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-2903492342387009" data-ad-slot="7893898897" data-ad-format="auto" data-full-width-responsive="true"></ins>
    <script>(adsbygoogle=window.adsbygoogle||[]).push({});</script>
  </footer>

  <!-- ì•± ë¡œì§ -->
  <script src="script.js"></script>

  <script>
    /* ê´‘ê³  íŒì—…: 10ì´ˆ í›„ í‘œì‹œ & ê·¸ë•Œ push() */
    setTimeout(()=>{
      document.getElementById('ad-overlay').style.display='flex';
      try{(adsbygoogle=window.adsbygoogle||[]).push({});}catch(e){console.warn(e);}
    },10000);
    document.getElementById('ad-popup-close').onclick=()=>document.getElementById('ad-overlay').style.display='none';

    /* ëª¨ë‹¬ ë‹«ê¸° */
    document.getElementById('closeModal').onclick=()=>document.getElementById('eventModal').style.display='none';
    document.getElementById('eventModal').onclick=e=>{if(e.target.id==='eventModal')e.target.style.display='none';};

    /* ë„¤ë¹„ê²Œì´ì…˜ */
    document.getElementById('home').onclick=()=>location.href='index.html';

    /* ì…ë ¥ ì„¸íŒ… & ì¦‰ì‹œ ë Œë” */
    const params=new URLSearchParams(location.search);
    const b=params.get('b'); if(b)document.getElementById('newBirth').value=b;
    document.getElementById('recalc').onclick=()=>{
      const d=document.getElementById('newBirth').value;
      if(d) { location.search='?b='+d; }        /* í˜ì´ì§€ ìì²´ ë¦¬ë¡œë“œ í•œ ë²ˆë§Œ */
    };

    /* ìµœì´ˆ í•œ ë²ˆ script.js ì˜ renderAll í˜¸ì¶œ */
    if(window.renderAll) renderAll();
  </script>
</body>
</html>
